{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/divya/OneDrive/Desktop/Developers/hackernews-frontend-final/app/lib/integrations/better-auth/index.ts"],"sourcesContent":["import { nextCookies } from \"better-auth/next-js\";\r\nimport { createAuthClient } from \"better-auth/react\";\r\nimport { usernameClient } from \"better-auth/client/plugins\";\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL;\r\nexport const betterAuthClient = createAuthClient({\r\n  baseURL:API_BASE,\r\n  plugins: [nextCookies(), usernameClient()],\r\n});\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;AAIiB;AAJjB;AACA;AACA;AAAA;;;;AAEA,MAAM;AACC,MAAM,mBAAmB,CAAA,GAAA,sKAAA,CAAA,mBAAgB,AAAD,EAAE;IAC/C,SAAQ;IACR,SAAS;QAAC,CAAA,GAAA,wKAAA,CAAA,cAAW,AAAD;QAAK,CAAA,GAAA,wLAAA,CAAA,iBAAc,AAAD;KAAI;AAC5C","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/divya/OneDrive/Desktop/Developers/hackernews-frontend-final/app/components/search-bar/SearchBar.tsx"],"sourcesContent":["// 'use client';\r\n\r\n// import Link from 'next/link';\r\n// import { useState, useEffect } from 'react';\r\n\r\n// type Post = {\r\n//   id: string;\r\n//   title: string;\r\n//   content: string;\r\n//   // Add other fields as needed\r\n// };\r\n\r\n// export default function SearchBar() {\r\n//   const [query, setQuery] = useState('');\r\n//   const [results, setResults] = useState<Post[]>([]);\r\n//   const [page, setPage] = useState(1);\r\n//   const [total, setTotal] = useState(0);\r\n//   const pageSize = 5;\r\n\r\n//   useEffect(() => {\r\n//     if (query.length > 0) {\r\n//       fetch(\r\n//         `http://localhost:3000/posts/search?q=${encodeURIComponent(query)}&page=${page}&pageSize=${pageSize}`,\r\n//         { credentials: 'include' }\r\n//       )\r\n//         .then((res) => res.json())\r\n//         .then((data) => {\r\n//           setResults(data.data ?? []); // ✅ access actual data array\r\n//           setTotal(data.pagination?.total ?? 0); // ✅ read total count\r\n//         })\r\n//         .catch((err) => {\r\n//           console.error('Search fetch error:', err);\r\n//           setResults([]);\r\n//           setTotal(0);\r\n//         });\r\n//     } else {\r\n//       setResults([]);\r\n//       setTotal(0);\r\n//     }\r\n//   }, [query, page]);\r\n  \r\n\r\n//   const totalPages = Math.ceil(total / pageSize);\r\n\r\n//   return (\r\n//     <div className=\"p-4 bg-gray-50\">\r\n//       <label className=\"text-gray-700 mr-2\">Search:</label>\r\n//       <input\r\n//         type=\"text\"\r\n//         value={query}\r\n//         onChange={(e) => {\r\n//           setQuery(e.target.value);\r\n//           setPage(1); // Reset to first page on new search\r\n//         }}\r\n//         className=\"border border-blue-500 rounded px-2 py-1 focus:outline-none\"\r\n//         placeholder=\"Type to search...\"\r\n//       />\r\n\r\n// <div className=\"mt-4 space-y-4\">\r\n//   {(results || []).map((post) => (\r\n//     // Inside your .map()\r\n//     <Link href={`/${post.id}`} key={post.id} className=\"block\">\r\n//       <div className=\"p-4 border rounded bg-white shadow hover:bg-gray-100 transition\">\r\n//         <h2 className=\"font-bold text-lg\">{post.title}</h2>\r\n//         <p className=\"text-gray-700 mt-1\">{post.content}</p>\r\n//       </div>\r\n//     </Link>\r\n    \r\n//   ))}\r\n// </div>\r\n\r\n//       {total > pageSize && (\r\n//         <div className=\"mt-4 flex space-x-2\">\r\n//           <button\r\n//             disabled={page === 1}\r\n//             onClick={() => setPage((prev) => prev - 1)}\r\n//             className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n//           >\r\n//             Previous\r\n//           </button>\r\n//           <span className=\"px-2 text-gray-600\">\r\n//             Page {page} of {totalPages}\r\n//           </span>\r\n//           <button\r\n//             disabled={page === totalPages}\r\n//             onClick={() => setPage((prev) => prev + 1)}\r\n//             className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n//           >\r\n//             Next\r\n//           </button>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useState, useEffect } from 'react';\r\n\r\ntype Post = {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n};\r\n\r\nexport default function SearchBar() {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState<Post[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const pageSize = 5;\r\n  \r\n  useEffect(() => {\r\n    const API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL;\r\n    if (query.length > 0) {\r\n      fetch(\r\n        `${API_BASE}/posts/search?q=${encodeURIComponent(query)}&page=${page}&pageSize=${pageSize}`,\r\n        { credentials: 'include' }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setResults(data.data ?? []);\r\n          setTotal(data.pagination?.total ?? 0);\r\n        })\r\n        .catch((err) => {\r\n          console.error('Search fetch error:', err);\r\n          setResults([]);\r\n          setTotal(0);\r\n        });\r\n    } else {\r\n      setResults([]);\r\n      setTotal(0);\r\n    }\r\n  }, [query, page]);\r\n\r\n  const totalPages = Math.ceil(total / pageSize);\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <div className=\"flex items-center space-x-2 bg-white rounded px-3 py-1 shadow-md border\">\r\n        <label htmlFor=\"search-input\" className=\"text-sm font-medium text-gray-700\">\r\n          Search:\r\n        </label>\r\n        <input\r\n          id=\"search-input\"\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(e) => {\r\n            setQuery(e.target.value);\r\n            setPage(1);\r\n          }}\r\n          className=\"w-64 px-3 py-1 border rounded-md border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n          placeholder=\"Type to search...\"\r\n        />\r\n      </div>\r\n\r\n      {results.length > 0 && (\r\n        <div className=\"absolute z-10 mt-2 w-full bg-white border border-gray-300 rounded shadow-lg max-h-96 overflow-y-auto\">\r\n          {results.map((post) => (\r\n            <Link href={`/${post.id}`} key={post.id} className=\"block hover:bg-gray-100 transition px-4 py-3\">\r\n              <h2 className=\"font-semibold text-sm text-gray-800\">{post.title}</h2>\r\n              <p className=\"text-gray-600 text-sm mt-1 truncate\">{post.content}</p>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {total > pageSize && (\r\n        <div className=\"flex justify-between items-center mt-3 text-sm text-gray-700\">\r\n          <button\r\n            disabled={page === 1}\r\n            onClick={() => setPage((prev) => prev - 1)}\r\n            className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n          >\r\n            Previous\r\n          </button>\r\n          <span>\r\n            Page {page} of {totalPages}\r\n          </span>\r\n          <button\r\n            disabled={page === totalPages}\r\n            onClick={() => setPage((prev) => prev + 1)}\r\n            className=\"px-3 py-1 border rounded disabled:opacity-50\"\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/divya/OneDrive/Desktop/Developers/hackernews-frontend-final/app/components/navigation-bar/NavigationBar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { betterAuthClient } from \"@/app/lib/integrations/better-auth\";\r\nimport SearchBar from \"../search-bar/SearchBar\";\r\nconst NavigationBar = () => {\r\n  const { data } = betterAuthClient.useSession();\r\n  const navItems = [\r\n    { label: \"new\", href: \"/new\" },\r\n    { label: \"past\", href: \"/past\" },\r\n    { label: \"comments\", href: \"/comments\" },\r\n    { label: \"submit\", href: \"/submit\" },\r\n  ];\r\n  return (\r\n    <nav className=\"fixed top-1 left-0 right-0 z-50 bg-orange-500 hover:bg-yellow-500 text-black text-1xl font-sans max-w-screen-lg mx-auto  w-full rounded-md\">\r\n      <div className=\"w-full flex items-center justify-between px-3 py-1\">\r\n        <div className=\"flex items-center flex-wrap gap-2\">\r\n          <Link href=\"/\" className=\"font-bold text-black\">\r\n            Hacker News\r\n          </Link>\r\n          {navItems.map((item) => (\r\n            <React.Fragment key={item.label}>\r\n              <span className=\"text-black\">|</span>\r\n              <Link href={item.href}>{item.label}</Link>\r\n            </React.Fragment>\r\n          ))}\r\n        </div>{\" \"}\r\n        <SearchBar />\r\n        <div className=\"flex items-center gap-2\">\r\n          {data?.user ? (\r\n            <button\r\n              onClick={() => betterAuthClient.signOut()}\r\n              className=\"hover:underline\"\r\n            >\r\n              logout\r\n            </button>\r\n          ) : (\r\n            <Link href=\"/login\" className=\"hover:underline\">\r\n              login\r\n            </Link>\r\n          )}\r\n        </div>\r\n        \r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\nexport default NavigationBar;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAMA,MAAM,gBAAgB;;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,wJAAA,CAAA,mBAAgB,CAAC,UAAU;IAC5C,MAAM,WAAW;QACf;YAAE,OAAO;YAAO,MAAM;QAAO;QAC7B;YAAE,OAAO;YAAQ,MAAM;QAAQ;QAC/B;YAAE,OAAO;YAAY,MAAM;QAAY;QACvC;YAAE,OAAO;YAAU,MAAM;QAAU;KACpC;IACD,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAuB;;;;;;wBAG/C,SAAS,GAAG,CAAC,CAAC,qBACb,6LAAC,6JAAA,CAAA,UAAK,CAAC,QAAQ;;kDACb,6LAAC;wCAAK,WAAU;kDAAa;;;;;;kDAC7B,6LAAC,+JAAA,CAAA,UAAI;wCAAC,MAAM,KAAK,IAAI;kDAAG,KAAK,KAAK;;;;;;;+BAFf,KAAK,KAAK;;;;;;;;;;;gBAK5B;8BACP,6LAAC,mJAAA,CAAA,UAAS;;;;;8BACV,6LAAC;oBAAI,WAAU;8BACZ,MAAM,qBACL,6LAAC;wBACC,SAAS,IAAM,wJAAA,CAAA,mBAAgB,CAAC,OAAO;wBACvC,WAAU;kCACX;;;;;6CAID,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;;;;;AAS5D;GAzCM;;QACa,wJAAA,CAAA,mBAAgB,CAAC;;;KAD9B;uCA0CS","debugId":null}}]
}