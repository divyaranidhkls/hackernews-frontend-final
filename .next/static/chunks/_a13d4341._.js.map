{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/divya/OneDrive/Desktop/Developers/hackernews-frontend-final/app/submit/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function SubmitPage() {\r\n  const router = useRouter();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL;\r\n\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/posts/create-post`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\", \r\n        body: JSON.stringify({ title, content }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        router.push(\"/\"); \r\n      } else {\r\n        const data = await res.json();\r\n        alert(data.message || \"Something went wrong.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Submit failed:\", error);\r\n      alert(\"An unexpected error occurred.\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-xl mx-auto mt-15 text-sm\">\r\n      <div className=\"bg-orange-500 p-2 text-black font-bold\">Submit</div>\r\n      <form onSubmit={handleSubmit} className=\"bg-[#f6f6ef] p-4\">\r\n        <div className=\"mb-3\">\r\n          <label className=\"block mb-1\">title</label>\r\n          <input\r\n            type=\"text\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            className=\"w-full border border-gray-300 rounded px-2 py-1\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label className=\"block mb-1\">url</label>\r\n          <input\r\n            type=\"text\"\r\n            disabled\r\n            placeholder=\"(optional - currently disabled)\"\r\n            className=\"w-full border border-gray-300 rounded px-2 py-1 bg-gray-100\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block mb-1\">text</label>\r\n          <textarea\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            className=\"w-full border border-gray-300 rounded px-2 py-1 h-28\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-gray-300 px-4 py-1 rounded hover:bg-gray-400\"\r\n          disabled={isSubmitting}\r\n        >\r\n          {isSubmitting ? \"Submitting...\" : \"submit\"}\r\n        </button>\r\n\r\n        <p className=\"mt-4 text-xs text-gray-600\">\r\n          Leave url blank to submit a question for discussion. If there is no\r\n          url, text will appear at the top of the thread.\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;AAUmB;;AARnB;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM;IAGN,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,gBAAgB;QAEhB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,kBAAkB,CAAC,EAAE;gBACvD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAQ;YACxC;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,KAAK,OAAO,IAAI;YACxB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,MAAM;QACR,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BAAyC;;;;;;0BACxD,6LAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAa;;;;;;0CAC9B,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAU;gCACV,QAAQ;;;;;;;;;;;;kCAIZ,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAa;;;;;;0CAC9B,6LAAC;gCACC,MAAK;gCACL,QAAQ;gCACR,aAAY;gCACZ,WAAU;;;;;;;;;;;;kCAId,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAa;;;;;;0CAC9B,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,WAAU;;;;;;;;;;;;kCAId,6LAAC;wBACC,MAAK;wBACL,WAAU;wBACV,UAAU;kCAET,eAAe,kBAAkB;;;;;;kCAGpC,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;;;;;;;AAOlD;GArFwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/divya/OneDrive/Desktop/Developers/hackernews-frontend-final/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}